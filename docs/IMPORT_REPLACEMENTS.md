# Import Replacement Map

This file lists the recommended replacement mappings for code that currently imports from `@hominem/data` after the monorepo split into `@hominem/db` and `@hominem/services`.

Rules:
- Anything related to the **database** (db client, schema, migrations) → `@hominem/db` or `@hominem/db/schema`
- Business logic / services / utilities → `@hominem/services/*` (module-specific exports)

---

## Top-level package
- `@hominem/data` -> `@hominem/services`  ✅
  - Rationale: top-level `@hominem/data` previously re-exported many service modules. After the split, the main consumer package is `@hominem/services`.

## DB-related
- `@hominem/data/db` -> `@hominem/db`  ✅
  - Use for db helpers, `db` client exports
- `@hominem/data/schema` -> `@hominem/db/schema`  ✅
  - Use for types and schema symbols generated by Drizzle

## Services (map these to `@hominem/services/*`)
- `@hominem/data/services` -> `@hominem/services`  ✅
- `@hominem/data/redis` -> `@hominem/services/redis`  ✅
- `@hominem/data/finance` -> `@hominem/finance-services`  ✅
- `@hominem/data/places` -> `@hominem/places-services`  ✅
- `@hominem/data/events` -> `@hominem/services/events`  ✅
- `@hominem/data/jobs` -> `@hominem/services/jobs`  ✅
- `@hominem/data/types` -> `@hominem/services/types`  ✅
- `@hominem/data/files` -> `@hominem/services/files`  ✅
- `@hominem/data/vector` -> `@hominem/services/vector`  ✅
- `@hominem/data/user` -> `@hominem/services/user`  ✅
- `@hominem/data/health` -> `@hominem/services/health`  ✅
- `@hominem/data/emails` -> `@hominem/services/emails`  ✅
- `@hominem/data/chat` -> `@hominem/services/chat`  ✅
- `@hominem/data/lists` -> `@hominem/services/lists`  ✅
- `@hominem/data/queues` -> `@hominem/services/queues`  ✅
- `@hominem/data/notes` -> `@hominem/services/notes`  ✅
- `@hominem/data/google` -> `@hominem/services/google-calendar` ⚠️
  - Note: `packages/services` exports `./google-calendar` (file `src/google.ts`). Some imports reference `@hominem/data/google` — prefer `@hominem/services/google-calendar`. Verify usages and adjust if a `@hominem/services/google` entry is later added.

## Other
- `@hominem/data/*` (any other subpath) -> `@hominem/services/*` (default mapping)

---

## Notes & Next Steps
1. Update `tsconfig.paths.json` to point `@hominem/services` and `@hominem/db` to their new `build` output (done).
2. Use this file as the source of truth for running automated replacements across the repo.
3. After replacements, run `bun install` and `bun run typecheck` in each package to catch any missed imports or typing issues.
4. Generated `.d.ts` files (e.g., `apps/api/test/trpc-test-utils.d.ts`) may include old `@hominem/data` references; they will update when `build` runs on the packages.

If you'd like, I can now apply these replacements across the repo (sed/codemod) and run a quick typecheck pass.
